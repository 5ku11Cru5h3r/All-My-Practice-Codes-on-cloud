#include <bits/stdc++.h>
using namespace std;
#define  fastt       ios::sync_with_stdio(0); cin.tie(0); cout.tie(0);
#define  ll         long long
#define  inf        1000000000000000000
#define  pb         push
#define  mp         make_pair
#define  sz(a)      a.size()
#define  mem(a,b)   memset(a,b,sizeof(a))
#define  clr(x)     x.clear()
#define  fff         first
#define  sss        second
#define  case(x)    cout << "Case " << x <<": "
#define all(x)      x.begin(), x.end()
#define srt(x)      sort(all(x))
 
#define deb(x) cout<<#x<<"="<<x<<endl
#define deb2(x, y) cout<<#x<<"="<<x<<","<<#y<<"="<<y<<endl
 
#define  md         1000000007
#define  pi         acos(-1.0)
#define  cos(a)     cos(a*pi/180)
#define  sin(a)     sin(a*pi/180)
#define  tan(a)     tan(a*pi/180)
#define  cosi(a)    acos(a)/(pi/180)
#define  sini(a)    asin(a)/(pi/180)
#define  tani(a)    atan(a)/(pi/180)
 
#define  vl         vector <ll>
#define  vs         vector <string>
#define  vpsl       vector < pair <string, ll> >
#define  vpls       vector < pair <ll, string> >
#define  mll	    map<ll,ll>
#define	 mset	    multiset<ll>
#define  msl	    map<string,ll>
#define  pql        priority_queue<ll>
#define  minpql     priority_queue<ll,vector<ll>,greater<ll> >
 
#define  setbits(x)     __builtin_popcountll(x)
#define  zerobits(x)    __builtin_ctzll(x)
 
#define toll(a) atoll(a.c_str())
class Solution {
public:
    vector<string> removeSubfolders(vector<string>& f) {
        fastt;
        srt(f);
        stack<string> stc;
        stc.pb(f[0]);
        for(auto i: f){
            if(!stc.empty() and i==stc.top()) continue;
            int siz=sz(stc.top());
            if(i.substr(0,siz)!=stc.top()){
                stc.pb(i);
            }
            if(i.substr(0,siz)==stc.top() and ( i[siz+1]!='/')){
                stc.pb(i);
            }
        }
        clr(f);
        while(!stc.empty()){
            f.push_back(stc.top());
            stc.pop();
        }
        return f;
    }
};